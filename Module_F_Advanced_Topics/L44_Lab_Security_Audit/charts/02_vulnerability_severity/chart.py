"""Vulnerability Severity Classification"""
import matplotlib.pyplot as plt
from pathlib import Path

plt.rcParams.update({'font.size': 14, 'figure.figsize': (10, 6), 'figure.dpi': 150})
MLBLUE, MLORANGE, MLGREEN, MLRED, MLPURPLE = '#0066CC', '#FF7F0E', '#2CA02C', '#D62728', '#3333B2'

fig, ax = plt.subplots(figsize=(10, 6))

categories = ['Critical', 'High', 'Medium', 'Low', 'Informational']
examples = ['Fund drainage\nComplete loss', 'Privilege\nescalation', 'Partial\nDDoS risk', 'Gas\ninefficiency', 'Code\nquality']
impact_scores = [10, 8, 5, 2, 0.5]
colors = [MLRED, MLORANGE, '#FFD700', MLGREEN, MLBLUE]

bars = ax.barh(range(len(categories)), impact_scores, color=colors, edgecolor='black', linewidth=1.5, height=0.6)

for i, (bar, cat, ex) in enumerate(zip(bars, categories, examples)):
    ax.text(bar.get_width() + 0.2, i, ex, va='center', fontsize=14)
    ax.text(0.3, i, cat, va='center', fontsize=14, fontweight='bold', color='white')

ax.set_yticks(range(len(categories)))
ax.set_yticklabels([''] * len(categories))
ax.set_xlabel('Impact Score', fontsize=15)
ax.set_xlim(0, 14)
ax.set_title('Vulnerability Severity Classification', fontweight='bold', fontsize=14)
ax.grid(True, alpha=0.3, axis='x')
plt.tight_layout()
plt.savefig(Path(__file__).parent / 'chart.pdf', bbox_inches='tight', dpi=300)
plt.close()
